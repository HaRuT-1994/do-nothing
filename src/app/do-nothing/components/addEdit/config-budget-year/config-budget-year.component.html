<div class="messgae">
  <p-message severity="{{msgDetails?.severity}}" text="{{ msgDetails?.msg }}"></p-message>
</div>
<app-loading *ngIf="isLoading"></app-loading>
<main [ngStyle]="isLoading && {'filter': 'blur(4px)'}">
  <h1>Config Budget Year</h1>
  <form action="" [formGroup]="formGroup">
    <div class="G-flex-justify-around">
      <div class="G-column gap">
        <div class="G-flex-center-between">
          <label>Budget Name</label>
          <p-dropdown [options]="budgets" optionLabel="budgetName"  optionValue="budgetId"
            formControlName="BudgetName" [readonly]="isOnEdit" (onChange)="onChangeBudgetName($event.value)"></p-dropdown>
        </div>
        <div class="G-flex-center-between">
          <label class="label-for-select">Scenario</label>
          <p-dropdown [options]="scenarioData" optionLabel="value" optionValue="id"
            formControlName="ScenarioName" [readonly]="true"></p-dropdown>
        </div>
        <div class="G-flex-center-between">
          <label for="budgetSource">Budget Source</label>
          <input type="text" id="budgetSource" formControlName="BudgetSource" [readonly]="true">
        </div>
        <div *ngIf="isOnEdit;else isadd" class="G-flex-center-between">
          <label for="year" class="label-for-select">Year</label>
          <p-dropdown [options]="years" formControlName="year" editable="true" (onChange)="onChangeYear()"></p-dropdown>
        </div>
        <ng-template #isadd>
          <div class="G-flex-center-between">
            <label for="year">Year</label>
            <input type="number" min="2022" max="2071" id="year" formControlName="year">
          </div> 
        </ng-template>
        <div class="G-flex-center-between">
          <label for="budget">Budget</label>
          <input type="number" id="budget" formControlName="budget">
        </div>
      </div>
    </div>

    <button type="submit" *ngIf="!isOnEdit" (click)="addConfig()">Submit</button>
    <button type="submit" *ngIf="isOnEdit" (click)="editConfig()">Submit</button>
  </form>
</main>